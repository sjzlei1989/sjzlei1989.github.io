<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Socket.IO中文文档 | 小窝儿</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-121076594-1','auto');ga('send','pageview');
</script></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Socket.IO中文文档</h1><a id="logo" href="/.">小窝儿</a><p class="description">xiaolei的个人博客</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Socket.IO中文文档</h1><div class="post-meta">Oct 16, 2018<span> | </span><span class="category"><a href="/categories/服务器相关/">服务器相关</a></span></div><div class="post-content"><p>尝试翻译socket.io官方文档, 没有时间线, 不知道何时完成…<br>水平有限, 如果有人看到, 并且发现其中错误, 欢饮您给我指出, 谢谢!<br>以下正文</p>
<hr>
<h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><ul>
<li><a href="#目录">目录</a></li>
<li><a href="#概述">概述</a><ul>
<li><a href="#socketio是什么">Socket.IO是什么</a><ul>
<li><a href="#可靠性">可靠性</a></li>
<li><a href="#支持自动重连">支持自动重连</a></li>
<li><a href="#断线检测">断线检测</a></li>
<li><a href="#支持二进制">支持二进制</a></li>
<li><a href="#支持多路技术待翻译">支持多路技术(待翻译)</a></li>
<li><a href="#支持房间模式">支持房间模式</a></li>
</ul>
</li>
<li><a href="#socketio不是什么">Socket.IO不是什么</a></li>
<li><a href="#与http模块搭配使用">与http模块搭配使用</a></li>
<li><a href="#与express模块搭配使用">与express模块搭配使用</a></li>
<li><a href="#发送和接收事件">发送和接收事件</a></li>
<li><a href="#restricting-yourself-to-a-namespace">Restricting yourself to a namespace</a></li>
<li><a href="#sending-volatile-messages">Sending volatile messages</a></li>
<li><a href="#发送和获取数据acknowledgements">发送和获取数据(acknowledgements)</a></li>
<li><a href="#广播消息">广播消息</a></li>
<li><a href="#作为跨浏览器的websocket使用它">作为跨浏览器的WebSocket使用它</a></li>
</ul>
</li>
</ul>
<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><h2 id="Socket-IO是什么"><a href="#Socket-IO是什么" class="headerlink" title="Socket.IO是什么"></a>Socket.IO是什么</h2><p>Socket.IO是浏览器与服务器之间的实时的、双向性的、基于事件的通讯库，它由两部分组成：</p>
<ul>
<li>Node.js服务器：<a href="https://github.com/socketio/socket.io" target="_blank" rel="noopener">源码</a> | <a href="https://socket.io/docs/server-api/" target="_blank" rel="noopener">API</a></li>
<li>供浏览器使用的Javascript库(也可以在Node.js中运行)：<a href="https://github.com/socketio/socket.io-client" target="_blank" rel="noopener">源码</a> | <a href="https://socket.io/docs/client-api/" target="_blank" rel="noopener">API</a></li>
</ul>
<p>它的主要特点是：</p>
<h3 id="可靠性"><a href="#可靠性" class="headerlink" title="可靠性"></a>可靠性</h3><p>即使在以下情况下依然可以建立链接：</p>
<ul>
<li>有代理和负载均衡。</li>
<li>个人防火墙和杀毒软件。</li>
</ul>
<p>为了达到这个目的， Socket.IO依赖于 <a href="https://github.com/socketio/engine.io" target="_blank" rel="noopener">Engine.IO</a>，先建立一个长轮询连接，然后尝试将其升级为经测试过更可靠的传输方式， 比如WebSocket。更多信息请访问 <a href="https://github.com/socketio/engine.io#goals" target="_blank" rel="noopener">Goals</a> 板块.</p>
<h3 id="支持自动重连"><a href="#支持自动重连" class="headerlink" title="支持自动重连"></a>支持自动重连</h3><p>除非被通知，否则一个断开连接的客户端会一直尝试重新连接服务器， 知道服务器再次可用。请在 <a href="https://socket.io/docs/client-api/#new-Manager-url-options" target="_blank" rel="noopener">这里</a> 查看可用的重连选项。</p>
<h3 id="断线检测"><a href="#断线检测" class="headerlink" title="断线检测"></a>断线检测</h3><p>在Engine.IO层面实现了心跳机制，允许客户端和服务器双方都能知道另一方是否不再响应。</p>
<p>这个功能是通过在服务端和客户端设置的计时器实现的，在连接建立是的握手阶段通过超时值共享（参数pingInterval和pingTimeout）。Those timers require any subsequent client calls to be directed to the same server, hence the sticky-session requirement when using multiples nodes.</p>
<h3 id="支持二进制"><a href="#支持二进制" class="headerlink" title="支持二进制"></a>支持二进制</h3><p>所有可以序列化的数据结构都可以发送，包括：</p>
<ul>
<li>浏览器中的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noopener">ArrayBuffer</a> 和 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Blob" target="_blank" rel="noopener">Blob</a></li>
<li>Node.js中的 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer" target="_blank" rel="noopener">ArrayBuffer</a> 和 <a href="https://nodejs.org/api/buffer.html" target="_blank" rel="noopener">Buffer</a><h3 id="支持多路技术-待翻译"><a href="#支持多路技术-待翻译" class="headerlink" title="支持多路技术(待翻译)"></a>支持多路技术(待翻译)</h3>In order to create separation of concerns within your application (for example per module, or based on permissions), Socket.IO allows you to create several Namespaces, which will act as separate communication channels but will share the same underlying connection.<h3 id="支持房间模式"><a href="#支持房间模式" class="headerlink" title="支持房间模式"></a>支持房间模式</h3>(待翻译)<h2 id="Socket-IO不是什么"><a href="#Socket-IO不是什么" class="headerlink" title="Socket.IO不是什么"></a>Socket.IO不是什么</h2>(待翻译)<h2 id="与http模块搭配使用"><a href="#与http模块搭配使用" class="headerlink" title="与http模块搭配使用"></a>与http模块搭配使用</h2>(待翻译)<h2 id="与express模块搭配使用"><a href="#与express模块搭配使用" class="headerlink" title="与express模块搭配使用"></a>与express模块搭配使用</h2>(待翻译)<h2 id="发送和接收事件"><a href="#发送和接收事件" class="headerlink" title="发送和接收事件"></a>发送和接收事件</h2>(待翻译)<h2 id="Restricting-yourself-to-a-namespace"><a href="#Restricting-yourself-to-a-namespace" class="headerlink" title="Restricting yourself to a namespace"></a>Restricting yourself to a namespace</h2>(待翻译)<h2 id="Sending-volatile-messages"><a href="#Sending-volatile-messages" class="headerlink" title="Sending volatile messages"></a>Sending volatile messages</h2>(待翻译)<h2 id="发送和获取数据-acknowledgements"><a href="#发送和获取数据-acknowledgements" class="headerlink" title="发送和获取数据(acknowledgements)"></a>发送和获取数据(acknowledgements)</h2>(待翻译)<h2 id="广播消息"><a href="#广播消息" class="headerlink" title="广播消息"></a>广播消息</h2>(待翻译)<h2 id="作为跨浏览器的WebSocket使用它"><a href="#作为跨浏览器的WebSocket使用它" class="headerlink" title="作为跨浏览器的WebSocket使用它"></a>作为跨浏览器的WebSocket使用它</h2>(待翻译)</li>
</ul>
</div><iframe src="/donate/?AliPayQR=/img/AliPayQR.png&amp;WeChatQR=/img/WeChatQR.png&amp;GitHub=https://github.com/sjzlei1989&amp;BTCQR=null&amp;BTCKEY=null&amp;PayPal=null" style="overflow-x:hidden; overflow-y:hidden; border:0xp none #fff; min-height:240px; width:100%;" frameborder="0" scrolling="no"></iframe><div class="tags"><a href="/tags/socket/">socket</a><a href="/tags/socket-io/">socket.io</a><a href="/tags/文档/">文档</a></div><div class="post-nav"><a class="next" href="/2018/07/18/typescript-random-number/">Typescript生成随机数</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://xleilei.cn"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/c/">c++</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/other/">other</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/typescript/">typescript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/服务器相关/">服务器相关</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/string/" style="font-size: 15px;">string</a> <a href="/tags/c/" style="font-size: 15px;">c++</a> <a href="/tags/c-11/" style="font-size: 15px;">c++11</a> <a href="/tags/lambda/" style="font-size: 15px;">lambda</a> <a href="/tags/socket/" style="font-size: 15px;">socket</a> <a href="/tags/socket-io/" style="font-size: 15px;">socket.io</a> <a href="/tags/文档/" style="font-size: 15px;">文档</a> <a href="/tags/字符串/" style="font-size: 15px;">字符串</a> <a href="/tags/cpp/" style="font-size: 15px;">cpp</a> <a href="/tags/ts/" style="font-size: 15px;">ts</a> <a href="/tags/typescript/" style="font-size: 15px;">typescript</a> <a href="/tags/random/" style="font-size: 15px;">random</a> <a href="/tags/随机数/" style="font-size: 15px;">随机数</a> <a href="/tags/vba/" style="font-size: 15px;">vba</a> <a href="/tags/utf-8/" style="font-size: 15px;">utf-8</a> <a href="/tags/输出/" style="font-size: 15px;">输出</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/10/16/socket-io-doc-cn/">Socket.IO中文文档</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/18/typescript-random-number/">Typescript生成随机数</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/20/cpp11-lambda/">C++ 11中的lambda表达式解析</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/20/cpp-string-operation/">C++字符串操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/19/vba-out-utf8/">使用VBA输出UTF-8</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">小窝儿.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>