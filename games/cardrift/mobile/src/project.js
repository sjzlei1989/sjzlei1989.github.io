window.__require=function t(e,o,i){function c(r,s){if(!o[r]){if(!e[r]){var a=r.split("/");if(a=a[a.length-1],!e[a]){var d="function"==typeof __require&&__require;if(!s&&d)return d(a,!0);if(n)return n(a,!0);throw new Error("Cannot find module '"+r+"'")}}var h=o[r]={exports:{}};e[r][0].call(h.exports,function(t){return c(e[r][1][t]||t)},h,h.exports,t,e,o,i)}return o[r].exports}for(var n="function"==typeof __require&&__require,r=0;r<i.length;r++)c(i[r]);return c}({Cam:[function(t,e,o){"use strict";cc._RF.push(e,"3eb4fqG/S5GcoqqVu5wY1iC","Cam"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,r=t("./Global"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.obstaclePrefab=null,e.obstacles=[],e.prevY=0,e}return __extends(e,t),Object.defineProperty(e.prototype,"upOrDown",{get:function(){return this.node.y>this.prevY?1:this.node.y<this.prevY?-1:0},enumerable:!0,configurable:!0}),e.prototype.onLoad=function(){this.node.width=cc.winSize.width,this.node.height=cc.winSize.height,this.node.on(cc.Node.EventType.TOUCH_START,function(t){t.getLocationX()<=cc.winSize.width/2?r.G.keys.left=!0:r.G.keys.right=!0},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){t.getLocationX()<cc.winSize.width/2?(r.G.keys.left=!0,r.G.keys.right=!1):(r.G.keys.left=!1,r.G.keys.right=!0)},this),this.node.on(cc.Node.EventType.TOUCH_END,function(t){t.getLocationX()<=cc.winSize.width/2?r.G.keys.left=!1:r.G.keys.right=!1},this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,function(t){t.getLocationX()<cc.winSize.width/2?r.G.keys.left=!1:r.G.keys.right=!1},this),cc.sys.os==cc.sys.OS_WINDOWS&&(cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(t){switch(t.keyCode){case cc.macro.KEY.a:r.G.keys.left=!0;break;case cc.macro.KEY.d:r.G.keys.right=!0}},this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(t){switch(t.keyCode){case cc.macro.KEY.a:r.G.keys.left=!1;break;case cc.macro.KEY.d:r.G.keys.right=!1}},this))},e.prototype.update=function(t){this.prevY=this.node.y,this.node.y=this.target.y},e.prototype.removeHead=function(){var t=this.obstacles.splice(0,1);t[0].y=this.obstacles[this.obstacles.length-1].y-this.node.height,this.obstacles.push(t[0])},e.prototype.removeTail=function(){var t=this.obstacles.splice(this.obstacles.length-1,1);t[0].y=this.obstacles[0].y+this.node.height,this.obstacles.splice(0,0,t[0])},__decorate([n(cc.Node)],e.prototype,"target",void 0),__decorate([n(cc.Prefab)],e.prototype,"obstaclePrefab",void 0),__decorate([n([cc.Node])],e.prototype,"obstacles",void 0),e=__decorate([c],e)}(cc.Component);o.default=s,cc._RF.pop()},{"./Global":"Global"}],Car:[function(t,e,o){"use strict";cc._RF.push(e,"9b969UUMNxITompQe2ABocP","Car"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Tire"),c=t("./Wall"),n=t("./Global"),r=cc._decorator,s=r.ccclass,a=r.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.velX=0,e.velY=0,e.rad=0,e.MAXRAD=.1,e.RADINTERVAL=.02,e.leftRad=0,e.rightRad=0,e.tires=[],e.tirePrefab=null,e.body=null,e.wall=null,e.speedX=40,e.speedY=40,e}return __extends(e,t),e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0},e.prototype.start=function(){this.node.zIndex=100,this.wall.init()},e.prototype.update=function(t){this.node.rotation=180*this.rad/Math.PI,this.velX*=.95,this.velY*=.95,this.velX+=Math.sin(this.rad),this.velY+=Math.cos(this.rad),this.body.linearVelocity=new cc.Vec2(this.velX*this.speedX,this.velY*this.speedY),this.body.syncPosition(!1),this.body.syncRotation(!1),this.wall.updatePosition(this.node.position),this.moveCar(),this.tires.forEach(function(t){t.updatePosition()})},e.prototype.moveCar=function(){n.G.keys.left?(this.leftRad<this.MAXRAD&&(this.leftRad+=this.RADINTERVAL,this.leftRad>this.MAXRAD&&(this.leftRad=this.MAXRAD)),this.rad-=this.leftRad):this.leftRad>0&&!n.G.keys.right&&(this.leftRad-=this.RADINTERVAL,this.leftRad<0&&(this.leftRad=0),this.rad-=this.leftRad),n.G.keys.right?(this.rightRad<this.MAXRAD&&(this.rightRad+=this.RADINTERVAL,this.rightRad>this.MAXRAD&&(this.rightRad=this.MAXRAD)),this.rad+=this.rightRad):this.rightRad>0&&!n.G.keys.left&&(this.rightRad-=this.RADINTERVAL,this.rightRad<0&&(this.rightRad=0),this.rad+=this.rightRad)},__decorate([a(cc.Float)],e.prototype,"MAXRAD",void 0),__decorate([a(cc.Float)],e.prototype,"RADINTERVAL",void 0),__decorate([a([i.default])],e.prototype,"tires",void 0),__decorate([a(cc.Prefab)],e.prototype,"tirePrefab",void 0),__decorate([a(cc.RigidBody)],e.prototype,"body",void 0),__decorate([a(c.default)],e.prototype,"wall",void 0),__decorate([a(cc.Float)],e.prototype,"speedX",void 0),__decorate([a(cc.Float)],e.prototype,"speedY",void 0),e=__decorate([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./Global":"Global","./Tire":"Tire","./Wall":"Wall"}],Global:[function(t,e,o){"use strict";cc._RF.push(e,"1c6aePv5u1JWYiwTT9FVsZA","Global"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.keys=[],e=__decorate([c],e)}(cc.Component));o.G=n,cc._RF.pop()},{}],Obstacle:[function(t,e,o){"use strict";cc._RF.push(e,"18c73knPuJBSYdkRGuAIGjA","Obstacle"),Object.defineProperty(o,"__esModule",{value:!0});var i=t("./Cam"),c=cc._decorator,n=c.ccclass,r=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cam=null,e}return __extends(e,t),e.prototype.start=function(){this.cam=cc.Camera.main.node.getComponent(i.default),cc.log(cc.Camera.main.node.height)},e.prototype.update=function(t){this.node.y<cc.Camera.main.node.y-cc.Camera.main.node.height?this.cam.removeTail():this.node.y>this.cam.node.y+this.cam.node.height&&this.cam.removeHead()},e=__decorate([n],e)}(cc.Component));o.default=r,cc._RF.pop()},{"./Cam":"Cam"}],Tire:[function(t,e,o){"use strict";cc._RF.push(e,"c87f8nm0jdFVYdmtPND8LHE","Tire"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.targetPrevPosition=cc.Vec2.ZERO,e.type=0,e.angle=5,e.distance=50,e}return __extends(e,t),e.prototype.onLoad=function(){this.target=cc.find("Canvas/car")},e.prototype.updatePosition=function(){if(null!==this.target){var t=cc.Vec2.UP.rotate(-Math.PI/180*this.target.rotation).normalize(),e=new cc.Vec2(-t.x,-t.y).rotate(0==this.type?-Math.PI/180*this.angle:Math.PI/180*this.angle);this.node.position=this.target.position.add(e.mul(this.distance))}},e.prototype.delayDestroy=function(){var t=this;this.node.runAction(cc.sequence(cc.delayTime(10),cc.callFunc(function(){t.node.destroy()},this)))},__decorate([n(cc.Integer)],e.prototype,"type",void 0),__decorate([n(cc.Float)],e.prototype,"angle",void 0),__decorate([n(cc.Float)],e.prototype,"distance",void 0),e=__decorate([c],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],Wall:[function(t,e,o){"use strict";cc._RF.push(e,"f9c010ggkJJ47eiw10qgCtx","Wall"),Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,c=i.ccclass,n=i.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.left=null,e.right=null,e}return __extends(e,t),e.prototype.init=function(){this.left.x=-(cc.winSize.width/2+this.left.width/2),this.right.x=cc.winSize.width/2+this.right.width/2},e.prototype.updatePosition=function(t){this.left.y=this.right.y=t.y,this.left.getComponent(cc.RigidBody).syncPosition(!0),this.right.getComponent(cc.RigidBody).syncPosition(!0)},__decorate([n(cc.Node)],e.prototype,"left",void 0),__decorate([n(cc.Node)],e.prototype,"right",void 0),e=__decorate([c],e)}(cc.Component);o.default=r,cc._RF.pop()},{}]},{},["Cam","Car","Global","Obstacle","Tire","Wall"]);